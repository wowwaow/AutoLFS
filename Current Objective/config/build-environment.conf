# Chapter 6 Build Environment Configuration
# Version: 1.0
# Date: 2025-05-31
# Description: Environment settings for temporary tools build

# Base directories
LFS=/mnt/lfs
LFS_TOOLS=$LFS/tools
LFS_SOURCES=$LFS/sources

# Target architecture
LFS_TGT=$(uname -m)-lfs-linux-gnu

# Build configuration
MAKEFLAGS="-j$(nproc)"
PARALLEL_JOBS=$(nproc)
BUILD_TIMEOUT=3600  # 1 hour default timeout

# Tool versions (Chapter 6)
M4_VERSION="1.4.19"
NCURSES_VERSION="6.4"
BASH_VERSION="5.2.15"
COREUTILS_VERSION="9.3"
DIFFUTILS_VERSION="3.10"
FILE_VERSION="5.44"
FINDUTILS_VERSION="4.9.0"
GAWK_VERSION="5.2.1"
GREP_VERSION="3.11"
GZIP_VERSION="1.12"
MAKE_VERSION="4.4"
PATCH_VERSION="2.7.6"
SED_VERSION="4.9"
TAR_VERSION="1.35"
XZ_VERSION="5.4.1"

# Build environment settings
LC_ALL=POSIX
CONFIG_SITE=$LFS/usr/share/config.site
PATH=/usr/bin
if [ ! -L /bin ]; then PATH=/bin:$PATH; fi
PATH=$LFS/tools/bin:$PATH

# Directory permissions
DIR_PERMS=755
FILE_PERMS=644

# Security settings
UMASK=022
STRICT_CHECKING=1

# Logging configuration
LOG_LEVEL=INFO
LOG_DIR=$LFS/logs
MAX_LOG_SIZE=100M
LOG_ROTATION=7

# Build isolation verification
CHECK_HOST_CONTAMINATION=1
VERIFY_CROSS_COMPILATION=1

# Temporary tools specific settings
SAVE_TEMP_TOOLS=1  # Keep temporary tools for debugging
VERIFY_EACH_TOOL=1 # Run verification after each tool build

